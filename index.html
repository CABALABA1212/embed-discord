<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embed Link Generator</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const params = new URLSearchParams(window.location.hash.substring(1));
            const title = params.get('title') || "Default Title";
            const text = params.get('text') || "Default Text";
            const color = params.get('color') || "#000000";

            document.querySelector('meta[property="og:title"]').setAttribute("content", title);
            document.querySelector('meta[property="og:description"]').setAttribute("content", text);
            document.querySelector('meta[property="og:image"]').setAttribute("content", "URL_TO_IMAGE");
            document.querySelector('meta[property="og:url"]').setAttribute("content", window.location.href);

            document.getElementById("title").innerText = title;
            document.getElementById("text").innerText = text;
            document.body.style.backgroundColor = color;

            // Изменение цвета текста в зависимости от фона
            const textColor = getTextColor(color);
            document.getElementById("title").style.color = textColor;
            document.getElementById("text").style.color = textColor;
        });

        function getTextColor(bgColor) {
            const color = bgColor.charAt(0) === '#' ? bgColor.substring(1, 7) : bgColor;
            const r = parseInt(color.substring(0, 2), 16);
            const g = parseInt(color.substring(2, 4), 16);
            const b = parseInt(color.substring(4, 6), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            return brightness < 128 ? '#FFFFFF' : '#000000';
        }
    </script>
    <meta property="og:title" content="Default Title" />
    <meta property="og:description" content="Default Text" />
    <meta property="og:image" content="URL_TO_IMAGE" />
    <meta property="og:url" content="https://CABALABA.github.io/embed-discord/" />
</head>
<body>
    <h1 id="title">Default Title</h1>
    <p id="text">Default Text</p>
</body>
</html>
